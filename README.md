# 成绩管理程序 说明

## 一、程序简介

本程序基于PyQt5开发，支持成绩录入、存储、分析及图表生成等功能。通过可视化界面，用户可便捷地管理学生成绩数据，并通过图表直观展示成绩趋势、分布等信息。


主要功能包括：

- 成绩录入与记录管理
- 多维度成绩图表分析（趋势图、条形图、饼图）
- 课程与满分值配置
- 操作日志记录与管理
  
  
  
  ### 目录结构
- 启动后自动创建以下目录（位于程序根目录）：
  
  ```
  ├─ config/ # 配置文件目录
  │ └─ course_grades/ # 课程成绩数据文件（以课程名.txt存储）
  ├─ report/ # 图表报告目录
  │ ├─ by_course/ # 按课程分类的图表
  │ ├─ by_student/ # 按学生分类的图表
  │ └─ by_trend/ # 趋势图图表
  └─ logs/ # 日志文件（按日期命名）
  ```
  
  ## 二、主要功能说明
  
  ### 1. 信息录入
  
  用于录入学生成绩记录，界面包含输入区和操作按钮。
  
  #### （1）输入项说明
- **课程**：下拉选择课程（从系统配置中获取）
- **满分**：显示当前系统设置的满分值（不可直接修改，需在系统配置页调整）
- **姓名**：输入学生姓名（支持中英文，最多20个字符）
- **成绩**：输入成绩（0-满分值之间，最多1位小数）
- **日期**：选择成绩记录日期（默认当前日期）
- **备注**：输入备注信息（最多10个汉字）
  
  #### （2）操作按钮
- **提交成绩**：保存当前输入的成绩记录。若同一学生、同一课程、同一日期已有记录，会提示是否覆盖。
- **删除记录**：点击后弹出删除对话框，可通过课程、学生、日期筛选记录并删除。
- **打开目录**：直接打开`course_grades`目录（成绩数据文件存储位置）。
- **重置表单**：清空所有输入框，日期重置为当前日期。
  
  #### （3）注意事项
- 成绩必须在0-满分值范围内
- 姓名不可为空，且需符合格式要求
- 提交前若系统配置页修改了满分值但未保存，会提示先保存配置
  
  ### 2. 成绩分析页
  
  用于生成成绩相关图表，支持多维度数据可视化分析。
  
  #### （1）筛选条件
- **课程**：下拉选择课程（可选，为空则分析所有课程）
- **学生**：下拉选择学生（可选，为空则分析所有学生）
  
  #### （2）图表类型（根据筛选条件自动生成）
  
  | 筛选条件      | 图表类型  | 说明                               |
  | --------- | ----- | -------------------------------- |
  | 选择课程+选择学生 | 成绩趋势图 | 展示该学生在该课程的历史成绩变化，包含最高分、最低分、平均分标注 |
  | 选择课程+不选学生 | 成绩条形图 | 展示该课程所有学生的最新成绩，包含班级平均分标注         |
  | 不选课程+选择学生 | 成绩饼图  | 展示该学生所有课程的失分比例（按扣分占比），包含具体扣分数值   |
  
  #### （3）操作按钮
- **生成图表**：根据当前筛选条件生成对应图表
- **导出图表**：将生成的图表保存为图片（`png`格式），自动按类型保存到`report`目录下对应子文件夹
- **打开目录**：打开当前图表类型对应的存储目录
- **重置表单**：清空筛选条件，重置为初始状态
  
  ### 3. 系统配置页
  
  用于管理课程信息和满分值设置。
  
  #### （1）课程参数配置
- **课程列表**：显示当前已配置的所有课程
- **添加课程**：点击后输入课程名称，新增课程（不可重复）
- **删除课程**：选择课程后点击，会删除该课程及所有相关成绩记录（需二次确认）
  
  #### （2）满分值设置
- **课程满分值**：显示当前设置的满分值（默认100）
- **修改**：点击后可编辑满分值
- **生效**：保存修改后的满分值（需为1-300之间的整数）
  
  ### 4. 关于程序
  
  展示程序基本信息，包括：
- 程序功能简介
- 版本信息（Version: 1.1）
- 技术支持与联系方式
- 开发者信息
  
  ### 5. 日志记录区
  
  位于界面底部，记录所有操作信息。
  
  #### （1）功能说明
- 实时显示程序操作记录（如成绩录入、图表生成、配置修改等）
- 不同类型记录以不同颜色显示：信息（蓝色）、成功（绿色）、警告（橙色）、错误（红色）
  
  #### （2）操作按钮
- **保存日志到文件**：勾选后，操作记录会同时保存到`logs`目录下的日志文件（按日期命名）
- **打开日志目录**：直接打开`logs`目录
- **清空日志**：删除所有日志文件并清空当前显示的日志内容
  
  ## 四、常见问题
1. **成绩记录保存在哪里？** 
   所有成绩记录以文本文件（`课程名.txt`）形式保存在`config/course_grades`目录下，可直接打开编辑（格式：`学生,成绩,满分,日期,备注`）。
2. **删除课程后成绩还能恢复吗？** 
   不能。删除课程会同时删除该课程的所有成绩记录文件，操作前请谨慎确认。
3. **图表导出后在哪里查看？** 
   按图表类型自动分类保存：
   - 趋势图 → `report/by_trend`
   - 课程成绩分布 → `report/by_course`
   - 学生成绩饼图 → `report/by_student`
4. **日志文件会占用大量空间吗？** 
   日志文件按日期生成，单文件体积较小，可通过“清空日志”按钮定期清理。


---

**技术支持**：Deepseek 
**更新日期**：2025.07
